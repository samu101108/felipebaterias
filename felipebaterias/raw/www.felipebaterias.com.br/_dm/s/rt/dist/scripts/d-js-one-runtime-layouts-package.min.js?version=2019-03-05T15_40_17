(function(){var a=Math,h=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",w="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,m="ontouchstart"in window,r=h+"Transform"in document.documentElement.style,v=/android/gi.test(navigator.appVersion),e=/iphone|ipad/gi.test(navigator.appVersion),b=/playbook/gi.test(navigator.appVersion),d=e||b,p=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),l=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,x="onorientationchange"in window?"orientationchange":"resize",n=m?"touchstart":"mousedown",t=m?"touchmove":"mousemove",f=m?"touchend":"mouseup",q=m?"touchcancel":"mouseup",u="Moz"==h?"DOMMouseScroll":
"mousewheel",y="translate"+(w?"3d(":"("),z=w?",0)":")",b=function(a,c){var k=this,f=document,b;k.wrapper="object"==typeof a?a:f.getElementById(a);k.wrapper.style.overflow="hidden";k.scroller=k.wrapper.children[0];k.options={hScroll:!0,vScroll:!0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:v,hideScrollbar:e,fadeScrollbar:e&&w,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,
wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(b in c)k.options[b]=c[b];k.options.useTransform=r?k.options.useTransform:!1;k.options.hScrollbar=k.options.hScroll&&k.options.hScrollbar;k.options.vScrollbar=k.options.vScroll&&k.options.vScrollbar;k.options.zoom=
k.options.useTransform&&k.options.zoom;k.options.useTransition=d&&k.options.useTransition;k.scroller.style[h+"TransitionProperty"]=k.options.useTransform?"-"+h.toLowerCase()+"-transform":"top left";k.scroller.style[h+"TransitionDuration"]="0";k.scroller.style[h+"TransformOrigin"]="0 0";k.options.useTransition&&(k.scroller.style[h+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");k.options.useTransform?k.scroller.style[h+"Transform"]=y+"0,0"+z:k.scroller.style.cssText+=";position:relative;top:0;left:0";
k.options.useTransition&&(k.options.fixedScrollbar=!0);k.refresh();k._bind(x,window);k._bind(n);m||(k._bind("mouseout",k.wrapper),k._bind(u));k.options.checkDOMChanges&&(k.checkDOMTime=setInterval(function(){k._checkDOMChanges()},500))};b.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){switch(a.type){case n:if(!m&&0!==a.button)break;this._start(a);break;case t:this._move(a);break;case f:case q:this._end(a);
break;case x:this._resize();break;case u:this._wheel(a);break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(g){var c=document,k;this[g+"Scrollbar"]?(this[g+"ScrollbarWrapper"]||(k=c.createElement("div"),this.options.scrollbarClass?k.className=
this.options.scrollbarClass+g.toUpperCase():k.style.cssText="position:absolute;z-index:100;"+("h"==g?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px"),k.style.cssText+=";pointer-events:none;-"+h+"-transition-property:opacity;-"+h+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(k),this[g+"ScrollbarWrapper"]=
k,k=c.createElement("div"),this.options.scrollbarClass||(k.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+h+"-background-clip:padding-box;-"+h+"-box-sizing:border-box;"+("h"==g?"height:100%":"width:100%")+";-"+h+"-border-radius:3px;border-radius:3px"),k.style.cssText+=";pointer-events:none;-"+h+"-transition-property:-"+h+"-transform;-"+h+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+h+"-transition-duration:0;-"+h+
"-transform:"+y+"0,0"+z,this.options.useTransition&&(k.style.cssText+=";-"+h+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[g+"ScrollbarWrapper"].appendChild(k),this[g+"ScrollbarIndicator"]=k),"h"==g?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=a.max(a.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,
this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=a.max(a.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(g,!0)):this[g+"ScrollbarWrapper"]&&(r&&(this[g+"ScrollbarIndicator"].style[h+
"Transform"]=""),this[g+"ScrollbarWrapper"].parentNode.removeChild(this[g+"ScrollbarWrapper"]),this[g+"ScrollbarWrapper"]=null,this[g+"ScrollbarIndicator"]=null)},_resize:function(){var a=this;setTimeout(function(){a.refresh()},v?200:0)},_pos:function(g,c){g=this.hScroll?g:0;c=this.vScroll?c:0;this.options.useTransform?this.scroller.style[h+"Transform"]=y+g+"px,"+c+"px"+z+" scale("+this.scale+")":(g=a.round(g),c=a.round(c),this.scroller.style.left=g+"px",this.scroller.style.top=c+"px");this.x=g;this.y=
c;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(g,c){var k="h"==g?this.x:this.y;this[g+"Scrollbar"]&&(k*=this[g+"ScrollbarProp"],0>k?(this.options.fixedScrollbar||(k=this[g+"ScrollbarIndicatorSize"]+a.round(3*k),8>k&&(k=8),this[g+"ScrollbarIndicator"].style["h"==g?"width":"height"]=k+"px"),k=0):k>this[g+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?k=this[g+"ScrollbarMaxScroll"]:(k=this[g+"ScrollbarIndicatorSize"]-a.round(3*(k-this[g+"ScrollbarMaxScroll"])),8>k&&(k=
8),this[g+"ScrollbarIndicator"].style["h"==g?"width":"height"]=k+"px",k=this[g+"ScrollbarMaxScroll"]+(this[g+"ScrollbarIndicatorSize"]-k))),this[g+"ScrollbarWrapper"].style[h+"TransitionDelay"]="0",this[g+"ScrollbarWrapper"].style.opacity=c&&this.options.hideScrollbar?"0":"1",this[g+"ScrollbarIndicator"].style[h+"Transform"]=y+("h"==g?k+"px,0":"0,"+k+"px")+z)},_start:function(g){var c=m?g.touches[0]:g,k,b;this.enabled&&(this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,
g),(this.options.useTransition||this.options.zoom)&&this._transitionTime(0),this.zoomed=this.animating=this.moved=!1,this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0,this.options.zoom&&m&&1<g.touches.length&&(b=a.abs(g.touches[0].pageX-g.touches[1].pageX),k=a.abs(g.touches[0].pageY-g.touches[1].pageY),this.touchesDistStart=a.sqrt(b*b+k*k),this.originX=a.abs(g.touches[0].pageX+g.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=a.abs(g.touches[0].pageY+g.touches[1].pageY-
2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,g)),this.options.momentum&&(this.options.useTransform?(k=getComputedStyle(this.scroller,null)[h+"Transform"].replace(/[^0-9-.,]/g,"").split(","),b=1*k[4],k=1*k[5]):(b=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),k=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),b!=this.x||k!=this.y)&&(this.options.useTransition?this._unbind("webkitTransitionEnd"):l(this.aniTime),
this.steps=[],this._pos(b,k)),this.absStartX=this.x,this.absStartY=this.y,this.startX=this.x,this.startY=this.y,this.pointX=c.pageX,this.pointY=c.pageY,this.startTime=g.timeStamp||Date.now(),this.options.onScrollStart&&this.options.onScrollStart.call(this,g),this._bind(t),this._bind(f),this._bind(q))},_move:function(g){var c=m?g.touches[0]:g,k=c.pageX-this.pointX,b=c.pageY-this.pointY,f=this.x+k,d=this.y+b,q=g.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,
g);if(this.options.zoom&&m&&1<g.touches.length)f=a.abs(g.touches[0].pageX-g.touches[1].pageX),d=a.abs(g.touches[0].pageY-g.touches[1].pageY),this.touchesDist=a.sqrt(f*f+d*d),this.zoomed=!0,c=1/this.touchesDistStart*this.touchesDist*this.scale,c<this.options.zoomMin?c=.5*this.options.zoomMin*Math.pow(2,c/this.options.zoomMin):c>this.options.zoomMax&&(c=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/c)),this.lastScale=c/this.scale,f=this.originX-this.originX*this.lastScale+this.x,d=this.originY-
this.originY*this.lastScale+this.y,this.scroller.style[h+"Transform"]=y+f+"px,"+d+"px"+z+" scale("+c+")",this.options.onZoom&&this.options.onZoom.call(this,g);else{this.pointX=c.pageX;this.pointY=c.pageY;if(0<f||f<this.maxScrollX)f=this.options.bounce?this.x+k/2:0<=f||0<=this.maxScrollX?0:this.maxScrollX;if(d>this.minScrollY||d<this.maxScrollY)d=this.options.bounce?this.y+b/2:d>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY;6>this.absDistX&&6>this.absDistY?(this.distX+=k,this.distY+=
b,this.absDistX=a.abs(this.distX),this.absDistY=a.abs(this.distY)):(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(d=this.y,b=0):this.absDistY>this.absDistX+5&&(f=this.x,k=0)),this.moved=!0,this._pos(f,d),this.dirX=0<k?-1:0>k?1:0,this.dirY=0<b?-1:0>b?1:0,300<q-this.startTime&&(this.startTime=q,this.startX=this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,g),$.DM.onIscrollScrolls(g))}},_end:function(g){if(!m||0==g.touches.length){var c=this,k=m?
g.changedTouches[0]:g,b,d,l={dist:0,time:0},p={dist:0,time:0},u=(g.timeStamp||Date.now())-c.startTime,e=c.x,n=c.y;c._unbind(t);c._unbind(f);c._unbind(q);c.options.onBeforeScrollEnd&&c.options.onBeforeScrollEnd.call(c,g);if(c.zoomed)e=c.scale*c.lastScale,e=Math.max(c.options.zoomMin,e),e=Math.min(c.options.zoomMax,e),c.lastScale=e/c.scale,c.scale=e,c.x=c.originX-c.originX*c.lastScale+c.x,c.y=c.originY-c.originY*c.lastScale+c.y,c.scroller.style[h+"TransitionDuration"]="200ms",c.scroller.style[h+"Transform"]=
y+c.x+"px,"+c.y+"px"+z+" scale("+c.scale+")",c.zoomed=!1,c.refresh(),c.options.onZoomEnd&&c.options.onZoomEnd.call(c,g);else{if(c.moved){if(300>u&&c.options.momentum){l=e?c._momentum(e-c.startX,u,-c.x,c.scrollerW-c.wrapperW+c.x,c.options.bounce?c.wrapperW:0):l;p=n?c._momentum(n-c.startY,u,-c.y,0>c.maxScrollY?c.scrollerH-c.wrapperH+c.y-c.minScrollY:0,c.options.bounce?c.wrapperH:0):p;e=c.x+l.dist;n=c.y+p.dist;if(0<c.x&&0<e||c.x<c.maxScrollX&&e<c.maxScrollX)l={dist:0,time:0};if(c.y>c.minScrollY&&n>c.minScrollY||
c.y<c.maxScrollY&&n<c.maxScrollY)p={dist:0,time:0}}l.dist||p.dist?(l=a.max(a.max(l.time,p.time),10),c.options.snap&&(p=e-c.absStartX,u=n-c.absStartY,a.abs(p)<c.options.snapThreshold&&a.abs(u)<c.options.snapThreshold?c.scrollTo(c.absStartX,c.absStartY,200):(p=c._snap(e,n),e=p.x,n=p.y,l=a.max(p.time,l))),c.scrollTo(a.round(e),a.round(n),l)):c.options.snap?(p=e-c.absStartX,u=n-c.absStartY,a.abs(p)<c.options.snapThreshold&&a.abs(u)<c.options.snapThreshold?c.scrollTo(c.absStartX,c.absStartY,200):(p=c._snap(c.x,
c.y),p.x==c.x&&p.y==c.y||c.scrollTo(p.x,p.y,p.time))):c._resetPos(200)}else m&&(c.doubleTapTimer&&c.options.zoom?(clearTimeout(c.doubleTapTimer),c.doubleTapTimer=null,c.options.onZoomStart&&c.options.onZoomStart.call(c,g),c.zoom(c.pointX,c.pointY,1==c.scale?c.options.doubleTapZoom:1),c.options.onZoomEnd&&setTimeout(function(){c.options.onZoomEnd.call(c,g)},200)):c.doubleTapTimer=setTimeout(function(){c.doubleTapTimer=null;for(b=k.target;1!=b.nodeType;)b=b.parentNode;"SELECT"!=b.tagName&&"INPUT"!=
b.tagName&&"TEXTAREA"!=b.tagName&&(d=document.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,g.view,1,k.screenX,k.screenY,k.clientX,k.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,0,null),d._fake=!0,b.dispatchEvent(d))},c.options.zoom?250:0)),c._resetPos(200);c.options.onTouchEnd&&c.options.onTouchEnd.call(c,g)}}},_resetPos:function(a){var c=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,b=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:
this.y;c==this.x&&b==this.y?(this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==h&&(this.hScrollbarWrapper.style[h+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar&&("webkit"==h&&(this.vScrollbarWrapper.style[h+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity="0")):this.scrollTo(c,b,a||0)},_wheel:function(a){if($.DM.isUseLayout()&&
"none"==this.options.wheelAction||0<this.maxScrollY||parseInt(a.currentTarget.style.height)<this.wrapperH)return!1;var c=this,b,f;"wheelDeltaX"in a?(b=a.wheelDeltaX/12,f=a.wheelDeltaY/2):"wheelDelta"in a?b=f=a.wheelDelta:"detail"in a&&(2===a.axis?(f=10*-a.detail,b=0):(b=3*-a.detail,f=0));"zoom"==c.options.wheelAction?(f=c.scale*Math.pow(2,1/3*(f?f/Math.abs(f):0)),f<c.options.zoomMin&&(f=c.options.zoomMin),f>c.options.zoomMax&&(f=c.options.zoomMax),f!=c.scale&&(!c.wheelZoomCount&&c.options.onZoomStart&&
c.options.onZoomStart.call(c,a),c.wheelZoomCount++,c.zoom(a.pageX,a.pageY,f,400),setTimeout(function(){c.wheelZoomCount--;!c.wheelZoomCount&&c.options.onZoomEnd&&c.options.onZoomEnd.call(c,a)},400))):(window.editorParent.$&&window.editorParent.$.deselectAllEditableElements&&null!=window.editorParent.NEFW&&null!=window.editorParent.$.dmfw.setPreviewEditPolicy&&0==window.editorParent.$.dmfw.getPreviewElement(".dmLocked").length&&window.editorParent.$.deselectAllEditableElements(),$.DM.onIscrollScrolls(a),
b=c.x+b,f=c.y+f,0<b?b=0:b<c.maxScrollX&&(b=c.maxScrollX),f>c.minScrollY?f=c.minScrollY:f<c.maxScrollY&&(f=c.maxScrollY),c.scrollTo(b,f,0),a.stopPropagation(),a.preventDefault())},_mouseout:function(a){var c=a.relatedTarget;if(c)for(;c=c.parentNode;)if(c==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var g=this,c=g.x,b=g.y,f=Date.now(),d,l;g.animating||(g.steps.length?(d=g.steps.shift(),
d.x==c&&d.y==b&&(d.time=0),g.animating=!0,g.moved=!0,g.options.useTransition?(g._transitionTime(d.time),g._pos(d.x,d.y),g.animating=!1,d.time?g._bind("webkitTransitionEnd"):g._resetPos(0)):function A(){var e=Date.now(),q;e>=f+d.time?(g._pos(d.x,d.y),g.animating=!1,g.options.onAnimationEnd&&g.options.onAnimationEnd.call(g),g._startAni()):(e=(e-f)/d.time-1,l=a.sqrt(1-e*e),e=(d.x-c)*l+c,q=(d.y-b)*l+b,g._pos(e,q),g.animating&&(g.aniTime=p(A)))}()):g._resetPos(400))},_transitionTime:function(a){a+="ms";
this.scroller.style[h+"TransitionDuration"]=a;this.hScrollbar&&(this.hScrollbarIndicator.style[h+"TransitionDuration"]=a);this.vScrollbar&&(this.vScrollbarIndicator.style[h+"TransitionDuration"]=a)},_momentum:function(b,c,f,d,l){c=a.abs(b)/c;var e=c*c/.0012;0<b&&e>f?(f+=l/(6/(e/c*6E-4)),c=c*f/e,e=f):0>b&&e>d&&(d+=l/(6/(e/c*6E-4)),c=c*d/e,e=d);return{dist:e*(0>b?-1:1),time:a.round(c/6E-4)}},_offset:function(a){for(var c=-a.offsetLeft,b=-a.offsetTop;a=a.offsetParent;)c-=a.offsetLeft,b-=a.offsetTop;
a!=this.wrapper&&(c*=this.scale,b*=this.scale);return{left:c,top:b}},_snap:function(b,c){var f,d,e;e=this.pagesX.length-1;f=0;for(d=this.pagesX.length;f<d;f++)if(b>=this.pagesX[f]){e=f;break}e==this.currPageX&&0<e&&0>this.dirX&&e--;b=this.pagesX[e];d=(d=a.abs(b-this.pagesX[this.currPageX]))?a.abs(this.x-b)/d*500:0;this.currPageX=e;e=this.pagesY.length-1;for(f=0;f<e;f++)if(c>=this.pagesY[f]){e=f;break}e==this.currPageY&&0<e&&0>this.dirY&&e--;c=this.pagesY[e];f=(f=a.abs(c-this.pagesY[this.currPageY]))?
a.abs(this.y-c)/f*500:0;this.currPageY=e;e=a.round(a.max(d,f))||200;return{x:b,y:c,time:e}},_bind:function(a,c,b){(c||this.scroller).addEventListener(a,this,!!b)},_unbind:function(a,c,b){(c||this.scroller).removeEventListener(a,this,!!b)},destroy:function(){this.scroller.style[h+"Transform"]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(x,window);this._unbind(n);this._unbind(t);this._unbind(f);this._unbind(q);this.options.hasTouch&&(this._unbind("mouseout",
this.wrapper),this._unbind(u));this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var b,c,f,d=0;c=0;this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=a.round(this.scroller.offsetWidth*this.scale);
this.scrollerH=a.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&
this.options.vScrollbar&&this.scrollerH>this.wrapperH;b=this._offset(this.wrapper);this.wrapperOffsetLeft=-b.left;this.wrapperOffsetTop=-b.top;if("string"==typeof this.options.snap)for(this.pagesX=[],this.pagesY=[],f=this.scroller.querySelectorAll(this.options.snap),b=0,c=f.length;b<c;b++)d=this._offset(f[b]),d.left+=this.wrapperOffsetLeft,d.top+=this.wrapperOffsetTop,this.pagesX[b]=d.left<this.maxScrollX?this.maxScrollX:d.left*this.scale,this.pagesY[b]=d.top<this.maxScrollY?this.maxScrollY:d.top*
this.scale;else if(this.options.snap){for(this.pagesX=[];d>=this.maxScrollX;)this.pagesX[c]=d,d-=this.wrapperW,c++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);c=d=0;for(this.pagesY=[];d>=this.maxScrollY;)this.pagesY[c]=d,d-=this.wrapperH,c++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");
this._scrollbar("v");this.zoomed||(this.scroller.style[h+"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(a,c,b,f){var d=a;this.stop();d.length||(d=[{x:a,y:c,time:b,relative:f}]);a=0;for(c=d.length;a<c;a++)d[a].relative&&(d[a].x=this.x-d[a].x,d[a].y=this.y-d[a].y),this.steps.push({x:d[a].x,y:d[a].y,time:d[a].time||0});this._startAni()},getScrollY:function(){return this.y},getScrollX:function(){return this.x},scrollToElement:function(b,c){var f;if(b=b.nodeType?b:this.scroller.querySelector(b))f=
this._offset(b),f.left+=this.wrapperOffsetLeft,f.top+=this.wrapperOffsetTop,f.left=0<f.left?0:f.left<this.maxScrollX?this.maxScrollX:f.left,f.top=f.top>this.minScrollY?this.minScrollY:f.top<this.maxScrollY?this.maxScrollY:f.top,c=void 0===c?a.max(2*a.abs(f.left),2*a.abs(f.top)):c,this.scrollTo(f.left,f.top+36,c)},scrollToPage:function(a,c,b){this.options.onScrollStart&&this.options.onScrollStart.call(this);this.options.snap?(a="next"==a?this.currPageX+1:"prev"==a?this.currPageX-1:a,c="next"==c?this.currPageY+
1:"prev"==c?this.currPageY-1:c,a=0>a?0:a>this.pagesX.length-1?this.pagesX.length-1:a,c=0>c?0:c>this.pagesY.length-1?this.pagesY.length-1:c,this.currPageX=a,this.currPageY=c,a=this.pagesX[a],c=this.pagesY[c]):(a*=-this.wrapperW,c*=-this.wrapperH,a<this.maxScrollX&&(a=this.maxScrollX),c<this.maxScrollY&&(c=this.maxScrollY));this.scrollTo(a,c,b||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(t);this._unbind(f);this._unbind(q)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?
this._unbind("webkitTransitionEnd"):l(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(a,c,b,f){var d=b/this.scale;this.options.useTransform&&(this.zoomed=!0,f=void 0===f?200:f,a=a-this.wrapperOffsetLeft-this.x,c=c-this.wrapperOffsetTop-this.y,this.x=a-a*d+this.x,this.y=c-c*d+this.y,this.scale=b,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[h+
"TransitionDuration"]=f+"ms",this.scroller.style[h+"Transform"]=y+this.x+"px,"+this.y+"px"+z+" scale("+b+")",this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};"undefined"!==typeof exports?exports.iScroll=b:window.iScroll=b})();(function(a){function h(b){return(b=a(b).attr("href"))?0===b.indexOf("http://"):!1}function w(){a.extend(a.layoutDevice.components,a.extend({},a.commonComponents,a.layoutDevice.components));for(var b in a.layoutDevice.components){var d=a.layoutDevice.components[b].selector;d||(d="#",a.layoutDevice.components[b].getByClass&&(d="."),d+=b);0==a(d).length?a.layoutDevice.components[b]=null:a.layoutDevice.components[b].element=a(d)}}function m(a){return 0==a?function(a){return!a.hasClass("dmSub")}:function(d){return d.hasClass("dmSub"+
(2==a?"2":""))}}function r(){var a=document.body.classList;/trident|msie/i.test(navigator.userAgent)&&!a.contains("msie")&&a.add("msie")}function v(){var b,d;a.ua?(b="Android"===a.ua.os.name&&2.4>a.ua.os.version,d="Windows Phone OS"===a.ua.os.name&&7.5>=a.ua.os.version):(b=-1!=navigator.userAgent.indexOf("Android 2"),d=-1!=navigator.userAgent.indexOf("Windows Phone OS 7"));return!b&&!d}var e={_is_touch_device:a.DM.testTouch(),_layoutDomReady:!1,_isEditorMode:!1,_isEDMode:!1,_variationClassPrefix:"-var",
_widgetClassPrefix:"widgetStyle-",_NEW_PAGES_PREFIX:"dmwlp://",_NEW_PAGE_LOC:"http://bfs._dudamobile.com",_layoutParams:{_navigationAnimationStyle:"slide"}};a.extend(e._layoutParams,Parameters.LayoutParams);a.extend({layoutManager:e});a(document).ready(function(){r();a.layoutManager._isEditorMode=a.DM.getQueryParam(window.location.href,"nee")?!0:!1;a.layoutManager._isEDMode=a.DM.getQueryParam(window.location.href,"ed")?!0:!1;a.layoutManager._isEditorMode&&"DESKTOP"===a.layoutDevice.type.toUpperCase()&&
a.layoutDevice.addParallaxBehavior();0<a("#dm").find("[data-background-parallax-selector]").length&&!a.browser.msie&&"DESKTOP"==a.layoutDevice.type.toUpperCase()||a.layoutManager._isEditorMode&&"undefined"!=typeof window.parent.window.DF&&window.parent.window.DF.parallaxPromise.resolve();w();-1==navigator.userAgent.indexOf("Mac OS X")&&a("body").addClass("pcCustomScrollbar");var b=a("body");a.layoutManager._isEditorMode&&(b.addClass("bodyInsideNee"),b.toggleClass("bodyInsidePT","PT"===getSafe("editorParent.dm_current_editor")),
isDudaone&&b.addClass("bodyInsideD1"));isDudaone?b.addClass("d1SiteBody"):b.addClass("dmSiteBody");20>Parameters.ThemeVersion&&isDudaone&&b.addClass("bodyInsideDudaone");isDudaone&&a.layoutManager._isEditorMode&&!a.layoutManager._isEDMode||a.layoutManager.initLayout();a.layoutManager.initNavigation();"MOBILE"!==a.layoutDevice.type.toUpperCase()||a.layoutManager._isEditorMode||8!==e.getCurrentLayout()||document.addEventListener("focusout",function(a){document.body.scrollTop=0;document.scrollingElement&&
(document.scrollingElement.scrollTop=0)});a.layoutDevice.components.iscrollBody&&a.layoutDevice.components.iscrollBody.isUseIscroll&&!a.layoutManager._isEditorMode?(a("body").addClass("dmBodyUseIscroll"),a("body").removeClass("dmBodyNoIscroll")):(a("body").addClass("dmBodyNoIscroll"),a("body").removeClass("dmBodyUseIscroll"));v()||a(".supportsFontIcons").removeClass("supportsFontIcons").addClass("noFontIcons");"runtime"in window&&runtime.initLayout({instanceSettings:{containerId:"dm-outer-wrapper"}}).then(function(){a.layoutManager._layoutDomReady=
!0}).catch(function(a){console.error(a)})});a(window).load(function(){e.updateContainerMinimumHeight();window===window.parent&&window.document.documentElement.classList.remove("ios-preview")});a(window).resize(function(){e.refreshIscroll()});e.detectUserAgent=function(){var a=navigator.userAgent;return a.match(/(iPhone|iPod)/)&&a.match(/CriOS/)?"iPhone-chrome":a.match(/(iPhone|iPod|iPad)/)?"iPhone":a.match(/Android/)?"android":a.match(/BlackBerry/)?"blackberry":a.match(/Windows Phone/i)||a.match(/iEMobile/i)?
"windowsmobile":""};e.initLayout=function(){a.layoutDevice.onReady(a.layoutManager._isEditorMode);a.layoutDevice.onLoad(a.layoutManager._isEditorMode)};e.refreshIscroll=function(b){null==b&&a.layoutDevice&&(b=a.layoutDevice.components.iscrollBody);b&&b.iscrollObject&&b.iscrollObject.refresh()};e.reinitIscroll=function(b){null==b&&(b=a.layoutDevice.components.iscrollBody);b&&b.iscrollObject&&b.refresh()};e.getLayoutElement=function(){return a.layoutDevice.components};e.isNee=function(){return a.layoutManager._isEditorMode};
e.setCurrentVariation=function(b,d,e){e=e||"mobile";for(var l=a(".dm_wrapper").attr("class").split(" "),h="",n="",m=0;m<l.length;m++){var f=l[m];-1!=f.indexOf(a.layoutManager._variationClassPrefix)&&(h=f,n=f.substr(0,f.indexOf(a.layoutManager._variationClassPrefix))+a.layoutManager._variationClassPrefix+b);d&&-1!=f.indexOf(a.layoutManager._widgetClassPrefix)&&a(".dm_wrapper").removeClass(f)}a(".dm_wrapper").removeClass(h);a(".dm_wrapper").addClass(n);a(".dm_wrapper").addClass(d?d[n]:"");Parameters.LayoutVariationID[e]=
b;a.DM.restoreDefaultNavigationStyles();a.DM.initNavbar(!0);a.layoutDevice.components.dmNav.cssCalculations()};e.getCurrentVariation=function(a){return Parameters.LayoutVariationID[a||"mobile"]};e.setCurrentLayout=function(a,d){Parameters.LayoutID[d||"mobile"]=a};e.getCurrentLayout=function(a){return Parameters.LayoutID[a||"mobile"]};e.setCurrentWidgetStyleID=function(a){Parameters.WidgetStyleID=a};e.getCurrentWidgetStyleID=function(){return Parameters.WidgetStyleID};e.cssCalculations=function(){a.layoutDevice.components.dmNav.cssCalculations()};
e.afterDropPositionFoundHook=function(){};e.isLayoutDomReady=function(){return a.layoutManager._layoutDomReady};e.afterInitNav=function(){a.layoutDevice.components.dmNav&&a.layoutDevice.components.dmNav.cssCalculations()};e.isMobileBrowser=function(){var a=navigator.userAgent||navigator.vendor||window.opera,d=!1;if(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4)))d=!0;return d};e.isWebkitMobileBrowser=function(){var b={},d=a.uaMatch(navigator.userAgent);b[d.browser]=!0;b.version=d.version;d=!1;if(b.chrome||b.webkit||b.safari)d=!0;"blackberry"==e.detectUserAgent()&&(d=!1);return d};e.isSafariMobileBrowser=function(){return-1<navigator.userAgent.toLowerCase().indexOf("version/")};e._is_touch_device=e._is_touch_device&&"blackberry"!=e.detectUserAgent();e.hideAllSubItems=function(){a.layoutDevice.components.slideDownNav?a.layoutDevice.components.slideDownNav.refresh():
a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};e.openAppropriateSub=function(){var b=window.location.hash.slice(1),d=a.DM.getPageUrlByPageId(b),e,l;a(".dmNavigation li:not(.listBtnHidden) a").each(function(){var h=a(this),n=unescape(a.DM.getQueryParam(h.attr("href"),"url")||h.attr("href"));e=document.createElement("a");e.href=n;l="#"==n?"#":e.pathname;if(null!=n&&null!=
d&&(n===d&&("/"!==l||e.search)||a.dmrt.isEditorMode&&"MOBILE"===Parameters.SiteType&&n===Parameters.CurrentPageUrl||l===d||("http://dmbfs"===d||d===Parameters.CurrentPageUrl)&&l===window.location.pathname&&(a.dmrt.isEditorMode||"/"!==l||"/"===l&&Parameters.IsCurrentHomePage))&&(!a.dmrt.isEditorMode||!n.match(/(http(s?)\:\/\/){1}[^\/]+(\/?)$/g))||a.dmrt.isEditorMode&&""!=b&&a(this).attr("raw_url")&&a.DM.getPageFromCache(b).pageContent.alias==a(this).attr("raw_url").split("/").pop()||(null==d||"null"==
d||d.startsWith(a.layoutManager._NEW_PAGES_PREFIX)||d==a.layoutManager._NEW_PAGE_LOC)&&a(this).is(".dmNavItemSelected\x3ea")){var t=h.parent();if(t.hasClass("hasdmSub"))a.layoutManager.showSpecificSubs(a(this).parent());else if(t.hasClass("dmSub")){for(n=m(t.hasClass("dmSub2")?1:0);!t.hasClass("hasdmSub")||!n(t);)t=t.prev();a.layoutManager.showSpecificSubs(t)}h.parents(".dmNavigation").find("a").removeClass("currentPage");h.addClass("currentPage");return!1}});a.layoutDevice.components.dmNav&&a.layoutDevice.components.dmNav.cssCalculations()};
e.getCurrentNavigationItemSelected=function(b,d){b||(b=a(".dmNavWrapper, .dmNavigation, .dmNavigationWithLink"),d=!0);var e=null,l=a.DM.getCurrentPageUrl(),h=l.replace("\x26preview\x3dtrue","").replace("\x26dm_try_mode\x3dtrue",""),n=location.hash,m=n?n.substring(1):null;b.find("a").each(function(){var f=a(this).data("target-page-alias")||a(this).attr("href");f&&-1!=f.indexOf("?url\x3d")&&(f=unescape(a.DM.getQueryParam(a(this).attr("href"),"url")));if("#"!==f&&(f&&"DUDAONE"==Parameters.SiteType&&
(-1<f.indexOf("?")&&(f=f.substr(0,f.indexOf("?"))),0==f.indexOf("/site/")?f=f.split(f.split("/")[2]+"/")[1]:0==f.indexOf("/")&&(f=f.substr(1,f.length)),-1<f.indexOf("#")&&!(-1<f.indexOf("#!"))&&(f=f.split("#")[0]),""===f&&(f="home")),null!=f&&null!=l&&(f===l||f===h))){if("DUDAONE"==Parameters.SiteType){var b=f=null,u=a(this).attr("href").split("#");1<u.length&&!u[1].startsWith("!")&&(f="#"+u[1],b=u[1]);if((f||n)&&f!=n)try{if(a("#"+m+"[data-anchor]").length||a("#"+b+"[data-anchor]").length)return}catch(y){}}null==
e?e=a(this):d&&(e=e.add(a(this)))}});return e};e.markCurrentSelectedNavigation=function(b){if(!(!isDudaone&&a.layoutManager.markedSelected||window.exportsite)){var d=a(".dmNavWrapper, .dmNavigation, .dmNavigationWithLink, .unifiednav__container");d.find("li").removeClass("dmNavItemSelected").end().find("a").removeClass("currentPage");d.each(function(){var d=a(this),e;b&&d.data("cachedElement")?e=d.data("cachedElement"):(e=a.layoutManager.getCurrentNavigationItemSelected(d))&&e.length&&(e=e.eq(0));
if(!d.find(".dmNavItemSelected").hasClass("dmNavKeepSelected")){var h=d.find(".navItemSelectedServer");0<h.size()?(d.find("li").removeClass("dmNavItemSelected"),d.find("a").removeClass("currentPage"),h.removeClass("navItemSelectedServer"),h.addClass("dmNavItemSelected"),h.find(" \x3e a").addClass("currentPage"),d.data("cachedElement",h.find(" \x3e a"))):(h=d.find("a.currentPage").eq(0),!e||h.html()==e.html()&&2!=e.closest("ul").find(".dmNavItemSelected").length?(d.find("li").removeClass("dmNavItemSelected"),
d.find("a").removeClass("currentPage dmNavItemSelected"),e=window.location.pathname,e=d.find('a[raw_url\x3d"'+decodeURI(e)+'"], a[href\x3d"'+decodeURI(e)+'"]'),d&&d.hasClass("unifiednav__container")?(e.addClass("dmNavItemSelected"),e.parents(".unifiednav__item-wrap").each(function(b){a(this).children("a").addClass("dmNavItemSelected")})):(e.addClass("currentPage"),e.closest("li").addClass("dmNavItemSelected"))):(d.find("li").removeClass("dmNavItemSelected"),d.find("a").removeClass("currentPage dmNavItemSelected"),
e.addClass("currentPage"),d.hasClass("unifiednav__container")?(e.addClass("dmNavItemSelected"),e.parents(".unifiednav__item-wrap").each(function(b){a(this).children("a").addClass("dmNavItemSelected")})):e.closest("li").addClass("dmNavItemSelected"),d.data("cachedElement",e)));a.layoutManager.finalizeMenu()}d.find(".dmNavKeepSelected").removeClass("dmNavKeepSelected")});a.layoutManager.markedSelected=!0}};e.finalizeMenu=function(){0<a(".dmNavigation .dmNavItemSelected").not(".dmHideFromNav").length&&
a(".dmNavigationWithLink .slideDownTrigger, .dmNavigationWithLink .slideUpTrigger").addClass("dmNavItemSelected");0<a(".desktopTopNavMoreBtn .dmNavItemSelected").length&&a("#upperFloatingNav .desktopTopNavMoreBtn").addClass("dmNavItemSelected");0<a("#upperFloatingNav .dmNavItemSelected.dmSub, .dmLinksMenu .dmNavItemSelected.dmSub").length&&a("#upperFloatingNav .dmNavItemSelected.dmSub, .dmLinksMenu .dmNavItemSelected.dmSub").parents("li").last().addClass("dmNavItemSelected");0<a(".dmUDNavigationItem_dmMore").length&&
a(".dmNavItemSelected").closest(".dmUDNavigationItem_dmMore").each(function(){this.classList.contains("unifiednav__item-wrap")?this.querySelector(".unifiednav__item").classList.add("dmNavItemSelected"):this.classList.add("dmNavItemSelected")})};e.onAjaxLinkClick=function(b){var d=b.attr("href")&&"#"!==b.attr("href");d&&(a.layoutManager.closeAllOpenedNavs(void 0,!0),window.layoutApp&&window.layoutApp.closeNavMenus());d&&isDudaone||(a(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer dmNavItemSelected"),
b.is(".dmNavWrapper *")&&(b.closest("li").addClass("dmNavItemSelected"),b.addClass("currentPage")));a.layoutDevice.handlePageSeoSettingsPerDevice&&a.layoutDevice.handlePageSeoSettingsPerDevice()};e.layoutAfterAjax=function(b){a.layoutManager.markCurrentSelectedNavigation()};e.initNavigation=function(){var b=!1,d=null,e=null,l=a.DM.isTouchDevice&&!a.DM.isIOS()?"touchend.menu":"click.menu";a("#slideDownNav a, #slideUpNav a").off("touchstart.menu").on("touchstart.menu",function(a){b=!1;d=a.originalEvent.targetTouches[0].pageX;
e=a.originalEvent.targetTouches[0].pageY}).off("touchmove.menu").on("touchmove.menu",function(a){if(10<Math.abs(a.originalEvent.targetTouches[0].pageY-e)||Math.abs(a.originalEvent.targetTouches[0].pageX-d))b=!0}).filter(function(){return!h(a(this))}).off(l).on(l,function(d){if(window.editorParent&&window.editorParent.$&&window.editorParent.$.dmx&&window.editorParent.$.dmx.isTouchDevice)return!1;var e=a(this),l=e.is(Parameters.LinksToAjax),f=!1,q=e.attr("href");if(!b)return e.parent().hasClass("hasdmSub")?
(h(e),e.attr("href")&&""!=e.attr("href")&&"#"!=e.attr("href"))?h(e)||(a.layoutManager.isNee()&&(a.DM.isAjaxLink(e)&&window.editorParent.$&&window.editorParent.$.dmfw&&window.editorParent.$.dmfw.showLoadingInEmulator(),window.editorParent.$&&window.editorParent.$.dmfw&&window.editorParent.$.dmfw.previewNavigateTo({url:e.attr("href"),navigateWithAjax:!0,el:e,e:d})),f=!0):(d.preventDefault(),"0"==e.parent().next(".dmSub").css("opacity")||"none"===e.parent().next(".dmSub").css("display")?a.layoutManager.showSpecificSubs(e.parent()):
"1"==e.parent().next(".dmSub").css("opacity")&&a.layoutManager.hideSpacificSubs(e.parent())):(a.layoutManager.isNee()&&(d.preventDefault(),window.editorParent.$&&window.editorParent.$.dmfw&&(a.DM.isAjaxLink(e)&&window.editorParent.$.dmfw.showLoadingInEmulator(),h(this)||window.editorParent.$.dmfw.previewNavigateTo({url:e.attr("href"),navigateWithAjax:!0,el:e,e:d}))),Parameters.AllowAjax&&(a(".navItemSelectedServer").removeClass("navItemSelectedServer"),e.parent().addClass("dmNavItemSelected"),e.addClass("currentPage")),
f=!0),(l=l&&!(null!=q&&q.startsWith("#")&&1<q.length)&&a.DM.isPermittedOnClickValue(e.attr("onClick"))&&!a.DM.isLinkException(q)&&"_blank"!==e.attr("target"))&&f?a.DM.ajaxNavigateToLink(q,e,d):f});isDudaone&&a.layoutManager.handleEmptyNavigation()};e.handleEmptyNavigation=function(){var b=a(".dmNavWrapper").eq(0),d=a("div.dmNavTriggerButton"),d=a().add(b).add(d);0<b.length&&(b=b.children().filter(function(){var b=a(this),d=!b.is(".dmHideFromNav, .dmDisplay_None, .dmNavTriggerButton, .slideDownTrigger");
d&&a.layoutDevice&&a.layoutDevice.type&&(d=d&&!b.is(".dmHideFromNav-"+a.layoutDevice.type));return d}),d.toggleClass("dmDisplay_None",0===b.length),b=1>=b.length,a("body").toggleClass("dm-single-page-nav",b),b||a(".dm-single-page-nav").removeClass("dm-single-page-nav"))};e.showSpecificSubs=function(b){a.layoutManager.hideAllSubItems();b.find(".navItemArrowBg").addClass("pointDown");var d=0,e=b,h=b.index();if(b.is(".dmSub")){for(var m=b;m.is(".dmSub");)m=m.prev();h=m.index();e=m}a(".dmNavigation li:gt("+
Math.max(h-1,0)+")").each(function(){a(this).is(e)||(0==d&&a(this).is(".dmSub")&&!a(this).is(".dmSub2")?(a(this).removeClass("dmDisplay_None").css({opacity:"0"}),a(this).css({"-webkit-transform":"translate3d(0px, 0px, 0px)","-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px, 0px)","-o-transform":"translate(0px, 0px)",opacity:"1"}),a(this).index()==b.index()&&(d=1)):1==d&&a(this).is(".dmSub")?(a(this).removeClass("dmDisplay_None").css("opacity","0"),a(this).css({"-webkit-transform":"translate3d(0px, 0px, 0px)",
"-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px, 0px)","-o-transform":"translate(0px, 0px)",opacity:"1"}),a(this).is(".dmSub2")||(d=0)):a(this).is(".dmSub2")||(d=2))});a.layoutDevice.components.slideDownNav?(a.layoutDevice.components.slideDownNav.refresh(),a.layoutDevice.components.slideDownNav.element.find("li").eq(-1).addClass("liRemoveBorder")):a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};
e.hideSpacificSubs=function(b){b.find(".navItemArrowBg").removeClass("pointDown");b.index();var d=b.is(".dmSub")?"dmSub2":"dmSub";b.nextUntil(":not(."+d+")").each(function(){1==a(this).css("opacity")&&(a(this).css({"-webkit-transform":"translate3d(0px,0px, 0px)","-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px,0px)","-o-transform":"translate(0px,0px)"}),a(this).css("opacity","0"),a(this).addClass("dmDisplay_None"))});a.layoutDevice.components.slideDownNav?(a.layoutDevice.components.slideDownNav.refresh(),
a.layoutDevice.components.slideDownNav.element.find("li").filter(function(){return 1==a(this).css("opacity")}).eq(-1).addClass("liRemoveBorder")):a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};e.initHomeLinkAnchor=function(){a.layoutManager._is_touch_device?a("#dm-logo-anchor").unbind("touchstart.t").bind("touchstart.t",function(b){a.layoutManager.closeAllOpenedNavs()}):
a("#dm-logo-anchor").unbind("click.menu").bind("click.menu",function(b){a.layoutManager.closeAllOpenedNavs()})};e.closeAllOpenedNavs=function(b,d){function e(){a.layoutManager._closeAllOpenedNavs();b&&b()}var h=a.layoutManager.isIOS()?300:0;d&&0<h?setTimeout(e,h):e()};e._closeAllOpenedNavs=function(){window.editorParent&&window.editorParent.$&&window.editorParent.$.dmx&&window.editorParent.$.dmx.preventNavClose||(a.layoutDevice.components.slideDownNav&&a.layoutDevice.components.slideDownNav.slideDownNavHandlerImpl(!1,
!0),a.layoutDevice.components.slideUpNav&&a.layoutDevice.components.slideUpNav.slideUpNavHandlerImpl(!1,!0),a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.toggleMenu("close"),a.layoutDevice.components.upperFloatingNav&&a.layoutDevice.components.upperFloatingNav.hideSubnav(),a.layoutDevice.components.popupNav&&a.layoutDevice.components.popupNav.hidePopupNav())};e.initInnerPageTitle=function(b){if(b&&a.layoutDevice.components.innerBar){var d=a.layoutDevice.components.innerBar.element.find(".innerPageTitle"),
e=a.layoutDevice.components.innerBar.element.find("#dmBackBtn"),h=a.layoutDevice.components.innerBar.element.find("#pageTitleText");0==d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e"),0<h.length?h.append(d):0<e.length?d.insertAfter(e):a.layoutDevice.components.innerBar.element.append(d),d.addClass("innerPageTitle"));d.text(b.page_title)}a.layoutDevice.initInnerPageTitle&&a.layoutDevice.initInnerPageTitle(b)};e.setSelected=function(a,d){a.toggleClass("dmNavItemSelected",d);return a};e.isIOS7=function(){return-1!=
a.layoutManager.detectUserAgent().indexOf("iPhone")&&navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i)};e.isPortrait=function(){return window.innerHeight>window.innerWidth?!0:!1};e.updateContainerMinimumHeight=function(){var b=a(".dmRespRowsWrapper"),d=window.innerHeight,e=a(".dmFooterContainer");0<e.length&&(d-=e.outerHeight());var h=a("#mobileFooter");0<h.length&&(d-=h.outerHeight());h=a("#desktopHeaderBox");0<h.length?d-=h.outerHeight():(h=a(".dmHeader"),0<h.length&&(d-=h.outerHeight()));
h=a("#popupNavHeaderBox");0<h.length&&(d-=h.outerHeight());Modernizr.cssvhunit||(b.css("min-height",d+"px"),a(".dmInner").css("minHeight",window.innerHeight+"px"));0<e.length&&setTimeout(function(){"none"!==window.getComputedStyle(e[0]).display&&(d+=window.innerHeight-e[0].getBoundingClientRect().bottom);b.css("min-height",d+"px")},0);b.removeClass("dmRespRowsWrapperSize6","dmRespRowsWrapperSize5","dmRespRowsWrapperSize4","dmRespRowsWrapperSize3","dmRespRowsWrapperSize2","dmRespRowsWrapperSize1");
950<d?b.addClass("dmRespRowsWrapperSize6"):890<d?b.addClass("dmRespRowsWrapperSize5"):800<d?b.addClass("dmRespRowsWrapperSize4"):700<d?b.addClass("dmRespRowsWrapperSize3"):620<d?b.addClass("dmRespRowsWrapperSize2"):b.addClass("dmRespRowsWrapperSize1")};e.isIOS=function(){return/(iPhone|iPad|iPod)/.test(navigator.userAgent)};e.isAndroidDefaultBrowser=function(){return-1<navigator.userAgent.indexOf("Mozilla/5.0")&&-1<nua.indexOf("Android ")&&-1<nua.indexOf("AppleWebKit")&&!(-1<nua.indexOf("Chrome"))}})(jQuery);var layoutDeviceComponentInterface={onReadyGlobal:function(a){},onReadyEditorMode:function(a){},onReadyPreviewMode:function(a){},onLoadGlobal:function(a){},onLoadEditorMode:function(a){},onLoadPreviewMode:function(a){},afterAjaxCommand:function(a){},onAjaxLinkClick:function(a,h){},onAjaxLinkBeforeClick:function(a,h){return!0}};var layoutDeviceInterface={type:"",components:{},onReady:function(a,h){},onLoad:function(a,h){},getTopFixedElementsOffset:function(){return 0},getBottomFixedElementsOffset:function(){return 0},initInnerBar:function(){},onAjaxLinkClick:function(a,h){}};(function(a){function h(){return a.layoutManager._isEditorMode&&parent.window.$.dmfw}function w(){this.element=null}function m(){this.element=a("#upperFloatingNav")}function r(){this.element=a(".dmLinksMenu \x3e ul")}function v(){this.slideTrigger=this.iscrollObject=this.element=null;this.slideDownNavHandlerImpl=function(f,b,d){function e(){h.hide();g.element.css("visibility","visible");h.off("webkitTransitionEnd").off("transitionend").off("oTransitionEnd").off("msTransitionEnd")}var h,g=this;h=a(document.getElementById("slideDownNav"));
if("undefined"==typeof f||null===f)f=!0;b||(b=!1);d||(d=!1);this.element.stop();this.element.unbind("webkitTransitionEnd").off("transitionend").off("oTransitionEnd").off("msTransitionEnd");this.element.css("display","block");f?a("#slideDownNav").css({"-webkit-transition-duration":".5s","-moz-transition-duration":".5s","-o-transition-duration":".5s","-ms-transition-duration":".5s"}):(a("#slideDownNav").css({"-webkit-transition-duration":"0s","-moz-transition-duration":"0s","-o-transition-duration":"0s",
"-ms-transition-duration":"0s"}),g.element.css("visibility","visible"));var c=a("#dmRoot");if(0<h.length&&h.hasClass("dmSlideNavClose")&&!b||d)h.scrollTop(0),h.removeClass("dmSlideNavClose").removeClass("menuClosed"),h.addClass("dmSlideNavOpen"),a.layoutManager.isNee()&&a(document.querySelectorAll(".inlineEditorNewSelectionBarsLocked, .inlineEditorNewSelectionBarsSelected, .inlineEditorNewContext")).addClass("inlineEditorBarsLowZindex"),h.show(),d=this.element.parent(),d.is(".fixedPart")&&"fixed"===
d.css("position")?(this.element.css("overflow","auto"),c.css("overflow","hidden"),c.css("position","fixed")):this.element.css("overflow","visible"),a.layoutManager.hideAllSubItems(),a.layoutManager.setSelected(a(".slideDownTrigger"),!0).siblings("li").removeClass("dmNavItemSelected"),a.layoutManager.openAppropriateSub(),a.layoutDevice.components.slideDownNav.element.find("li").filter(function(){return 1===a(this).css("opacity")}).eq(-1).addClass("liRemoveBorder"),"slide"===a.layoutManager._layoutParams._navigationAnimationStyle?
h.css({"-webkit-transform":"translate3d(0px, 0px, 0px)","-o-transform":"translate(0px, 0px)","-moz-transform":"translate(0px, 0px)","-ms-transform":"translate(0px, 0px)"}):"scale"===a.layoutManager._layoutParams._navigationAnimationStyle&&h.css({"-webkit-transform":"scale3d(1, 1, 1)","-o-transform":"scale(1, 1)","-moz-transform":"scale(1, 1)","-ms-transform":"scale(1, 1)","-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%"}),
a.DM.handleExpandingNav({context:this,isOpen:!0});else if(h.hasClass("dmSlideNavOpen")&&!d||b)h.addClass("dmSlideNavClose").addClass("menuClosed"),h.removeClass("dmSlideNavOpen"),a.layoutManager.isNee()&&a(".inlineEditorNewSelectionBarsLocked, .inlineEditorNewSelectionBarsSelected, .inlineEditorNewContext").removeClass("inlineEditorBarsLowZindex"),d=this.element.parent(),d.is(".fixedPart")&&"fixed"===d.css("position")&&(c.css("overflow","auto"),c.css("position","static")),f&&(this.element.off("webkitTransitionEnd").on("webkitTransitionEnd",
e),this.element.off("transitionend").on("transitionend",e),this.element.off("oTransitionEnd").on("oTransitionEnd",e),this.element.off("msTransitionEnd").on("msTransitionEnd",e)),a.layoutManager.setSelected(a(".slideDownTrigger"),!1),f?"slide"===a.layoutManager._layoutParams._navigationAnimationStyle?(f=this.element.find("ul").outerHeight(!0),h.css({"-webkit-transform":"translate3d(0px, "+-f+"px, 0px)","-o-transform":"translate(0px, "+-f+"px)","-moz-transform":"translate(0px, "+-f+"px)","-ms-transform":"translate(0px, "+
-f+"px)"})):"scale"===a.layoutManager._layoutParams._navigationAnimationStyle&&h.css({"-webkit-transform":"scale3d(1, 0, 1)","-o-transform":"scale(1, 0)","-moz-transform":"scale(1, 0)","-ms-transform":"scale(1, 0)","-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%"}):h.hide(),f=a("#iscrollBody"),f.length&&f.css("height","auto"),a.layoutManager.hideAllSubItems(),this.slideTrigger&&0<this.slideTrigger.find(".navItemArrowBg").length&&
(f=this.slideTrigger.find(".navItemArrowBg"),f.addClass("pointDown")),b?a.layoutManager.markCurrentSelectedNavigation(!1):a.layoutManager.markCurrentSelectedNavigation(!0),a.DM.handleExpandingNav({context:this})};this.initSlideDownTrigger=function(){var f,b;b=this;this.slideTrigger&&0<this.slideTrigger.find(".navItemArrowBg").length&&(f=b.slideTrigger.find(".navItemArrowBg"),f.addClass("pointDown"));a.layoutManager._is_touch_device&&this.slideTrigger?this.slideTrigger.unbind("touchstart.t").bind("touchstart.t",
function(a){b.slideDownNavHandlerImpl(null,null,null);a.preventDefault();a.stopPropagation()}):this.slideTrigger&&this.slideTrigger.unbind("click.c").bind("click.c",function(a){b.slideDownNavHandlerImpl(null,null,null);a.preventDefault();a.stopPropagation()})}}function e(){this.iscrollObject=this.element=null;this.isUseIscroll=!1;this.isBodyScrollable=!0;this.afterAjaxCommand=null}function b(){this.startY=this.slideNavigationObject=this.scrollObject=this.element=null;this.scrolled=!1}function d(a,
b){var d=new Snap(a);b&&l.call(this,b,d);return d}function p(a,b){if(window.isMobileDevice){var d=new window.CustomEvent("old-drawer-toggled",{detail:{open:a},bubbles:!1,cancelable:!0});b.get(0).dispatchEvent(d)}}function l(b,d){var e=this;a(b).off("click.nav-snap").on("click.nav-snap",function(){e.toggleMenu()})}function x(){}function n(a){document.body.scrollTop=0}w.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);w.prototype.onReadyPreviewMode=function(){this.element=a("#innerBar");
a.layoutDevice.initInnerBar()};w.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};w.prototype.onLoadPreviewMode=function(){};w.prototype.onLoadEditorMode=function(){};w.prototype.afterAjaxCommand=function(b){a.layoutDevice.initInnerBar(b)};m.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);m.prototype.onReadyEditorMode=function(){this.onReadyGlobal()};m.prototype.onReadyPreviewMode=function(){this.onReadyGlobal()};m.prototype.onLoadEditorMode=function(a){};m.prototype.onLoadPreviewMode=
function(a){};m.prototype.hideSubnav=function(){"tablet"===a.layoutDevice.type&&a("ul#upperFloatingNavigation \x3e li \x3e ul").stop(!0).fadeOut()};m.prototype.onReadyGlobal=function(){a("#upperFloatingNavigation").find("a").off("click.menu").on("click.menu",function(b){window.editorParent.$&&window.editorParent.$.dmfw&&a.layoutManager.isNee()&&!window.editorParent.$.dmpages.isExternalLink(a(this).attr("href"))&&(b.stopPropagation(),b.preventDefault(),h()||window.editorParent.$.dmfw.previewNavigateTo({url:a(this).attr("href"),
navigateWithAjax:!0,el:a(this),e:b}))});if("tablet"===a.layoutDevice.type){var b=a("ul#upperFloatingNavigation");a.commonComponents.upperFloatingNav.hideSubnav();b.off("touchend.subnav click.subnav","\x3eli.hasdmSub:not(:has(\x3ea)), \x3eli.desktopTopNavMoreBtn").on("touchend.subnav click.subnav","\x3eli.hasdmSub:not(:has(\x3ea)), \x3eli.desktopTopNavMoreBtn",function(){var b=a(this).find("\x3eul");b.is(":not(:visible)")&&(a.commonComponents.upperFloatingNav.hideSubnav(),b.fadeIn().delay(1E4).fadeOut())}).off("mouseenter",
"\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(){var b=a(this).find("\x3eul");b.is(":not(:visible)")&&b.fadeIn()}).off("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(){a.commonComponents.upperFloatingNav.hideSubnav()})}};m.prototype.onAjaxLinkBeforeClick=function(b){if(b.is("#upperFloatingNavigation li *")&&"tablet"===a.layoutDevice.type&&b.parent().is(".desktopTopNav.hasdmSub"))if(b=
b.parent().find("\x3eul"),b.is(":visible"))b.delay(1E3).fadeOut();else return this.hideSubnav(),b.fadeIn().delay(1E4).fadeOut(),!1;return!0};m.prototype.onAjaxLinkClick=function(b){b.is("#upperFloatingNavigation li *")&&(a("#upperFloatingNavigation").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),b.closest("li").addClass("dmNavItemSelected"))};r.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);r.prototype.onReadyEditorMode=
function(){this.onReadyGlobal()};r.prototype.onReadyPreviewMode=function(){this.onReadyGlobal()};r.prototype.onLoadEditorMode=function(a){};r.prototype.onLoadPreviewMode=function(a){};r.prototype.hideSubnav=function(){};r.prototype.onReadyGlobal=function(){"tablet"===a.layoutDevice.type&&(a(".dmLinksMenu \x3e ul"),a.commonComponents.extensionMenuNav.hideSubnav(),a("#site_content").off("touchend.subnav click.subnav",".dmLinksMenu \x3e ul \x3eli.hasdmSub:not(:has(\x3ea)), .dmLinksMenu \x3e ul \x3eli.desktopTopNavMoreBtn").on("touchend.subnav click.subnav",
".dmLinksMenu \x3e ul \x3eli.hasdmSub:not(:has(\x3ea)), .dmLinksMenu \x3e ul \x3eli.desktopTopNavMoreBtn",function(){var b=a(this).find("\x3eul");b.is(":not(:visible)")&&(a.commonComponents.extensionMenuNav.hideSubnav(),b.fadeIn().delay(1E4).fadeOut())}).off("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(){var b=a(this).find("\x3eul");b.is(":not(:visible)")&&b.fadeIn()}).off("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseleave",
"\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(){a.commonComponents.extensionMenuNav.hideSubnav()}));var b=a(".dmLinksMenu .innerUl");if(b.length)for(var d=0;d<b.length;d++){var e=b.eq(d),h=e.outerHeight(),l=e.parents("ul").offset().top+e.parents("ul").outerHeight()+10,g=a("#dm").height();h+l>g&&(h=e.parent().offset().top,h>g-h?e.addClass("openAbove"):e.height(g-h).css("overflowY","scroll"))}};r.prototype.onAjaxLinkBeforeClick=function(b){if(b.is(".dmLinksMenu \x3e ul li *")&&"tablet"===
a.layoutDevice.type&&b.parent().is(".desktopTopNav.hasdmSub"))if(b=b.parent().find("\x3eul"),b.is(":visible"))b.delay(1E3).fadeOut();else return this.hideSubnav(),b.fadeIn().delay(1E4).fadeOut(),!1;return!0};r.prototype.onAjaxLinkClick=function(b){if(b.is(".dmLinksMenu \x3e ul li *")||b.is(".middleLogoLink"))a(".dmLinksMenu \x3e ul").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),b.closest(".unifiednav").length?b.addClass("dmNavItemSelected"):
b.closest("li").addClass("dmNavItemSelected")};r.prototype.selector=".dmLinksMenu \x3e ul";v.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);v.prototype.initIscroll=function(){var b,d=a(document.getElementById("slideDownNav"));b=a("#iscrollBody");null!==this.iscrollObject&&(this.iscrollObject.destroy(),this.iscrollObject=null);var e=a.layoutDevice.getTopFixedElementsOffset();0<e?(d.height(a.DM.getPageHeight()-e-10),d=window.innerHeight-e,window.innerHeight<a(window).height()&&(d=a(window).height()-
e),a("#iscrollBody").css({height:d,overflowY:"auto"}),this.iscrollObject=new iScroll("slideDownNav",{onScrollStart:function(){var d,e,g;b=a("#iscrollBody");d=a(window).height()-b.offset().top;e=a("body").scrollTop();g=a.iOSVersion()[0];7>g&&(d+=60);b.attr("data-top",e).addClass("noScroll").css({height:d,"-webkit-transform":"translate(0, -"+e+"px)","-moz-transform":"translate(0, -"+e+"px)","-ms-transform":"translate(0, -"+e+"px)","-o-transform":"translate(0, -"+e+"px)",transform:"translate(0, -"+e+
"px)"});7>g&&window.scrollTo(0,60)},onScrollEnd:function(){var b,d;d=a("#iscrollBody");b=d.attr("data-top");d.removeClass("noScroll").css({height:"auto","-webkit-transform":"translate(0, 0)","-moz-transform":"translate(0, 0)","-ms-transform":"translate(0, 0)","-o-transform":"translate(0, 0)",transform:"translate(0, 0)"});a("body").scrollTop(b)},bounce:!1})):d.hasClass("dmSlideNavOpen")&&d.offset().top+d.find("ul").height()>b.height()&&(e=d.offset().top+d.find("ul").height(),b.height(e))};v.prototype.initLoadGlobal=
function(){this.initSlideDownTrigger()};v.prototype.onLoadEditorMode=function(){this.initIscroll();this.initLoadGlobal()};v.prototype.onLoadPreviewMode=function(){this.initIscroll();this.initLoadGlobal()};v.prototype.onReadyPreviewMode=function(){this.element=a("#slideDownNav").addClass("dmNavTriggerButton");this.slideTrigger=a(".slideDownTrigger");var b=0;this.element.addClass("dmSlideNavClose").addClass("menuClosed");a.DM.isBodyScrollable()&&(a.layoutManager._is_touch_device&&this.element.find(".dmNavigation").unbind("touchstart").bind("touchstart",
function(){b=event.touches[0].pageY;document.getElementById("slideDownNav")}),this.element.find(".dmNavigation").unbind("mousewheel DOMMouseScroll touchmove").bind("mousewheel DOMMouseScroll touchmove",function(d){if(!(0<a(this).parents(".fixedPart").length&&"fixed"===a(this).parents(".fixedPart").css("position"))){d.preventDefault();var e;a.layoutManager._is_touch_device?(d=b-event.touches[0].pageY,a("html, body").scrollTop(document.body.scrollTop+d)):(e=document.body.scrollTop,d=event.wheelDelta||
-event.detail,e=0<d?e-40:e+40,a("html, body").scrollTop(e))}}));0===a("#innerBar:visible").length&&10!==a.layoutManager.getCurrentLayout()&&1!==a.layoutManager.getCurrentLayout()&&this.element.find(".dmNavWrapper").removeClass("dmNavWrapper");this.initSlideDownTrigger()};v.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};v.prototype.refresh=function(){this.initIscroll()};e.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);b.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);
b.prototype.onReadyEditorMode=function(){this.onReadyGlobal()};b.prototype.onReadyPreviewMode=function(){this.onReadyGlobal()};b.prototype.onLoadEditorMode=function(a){this.onLoadGlobal(a);this.initIscroll()};b.prototype.onLoadPreviewMode=function(a){this.onLoadGlobal(a);this.initIscroll()};b.prototype.onReadyGlobal=function(){var b=this;a("#leftSidebar").find("a").off("click.menu").on("click.menu",function(d){var e=a(document.getElementById("leftSidebar")),l=a(this).attr("href");l&&0===l.indexOf("http://")||
(h()||b.slideNavigationObject.close(),e.find(".navItemSelectedServer").removeClass("navItemSelectedServer"),e.find(".dmNavItemSelected").removeClass("dmNavItemSelected"),a(this).closest("li").addClass("dmNavItemSelected"),a(this).addClass("currentPage"),h()||a.layoutManager.isNee()&&window.editorParent.$&&window.editorParent.$.dmfw&&window.editorParent.$.dmfw.previewNavigateTo({url:a(this).attr("href"),navigateWithAjax:!0,el:a(this),e:d}))})};b.prototype.initIscroll=function(){var b=this;a("body").css({transform:"all .3 ease",
"-webkit-transform":"all .3 ease"});window.addEventListener("hashchange",n);a.layoutManager.getLayoutElement().iscrollBody.element=a("#iscrollBody");a.layoutManager.getLayoutElement().iscrollBody.isBodyScrollable=!1;var e=function(b){var d=a("body").scrollTop(),c=a.layoutDevice.getTopFixedElementsOffset();a("body").css({width:"100%",height:"100%"});var e=window.innerHeight-c;window.innerHeight<a(window).height()&&(e=a(window).height()-c);a("#iscrollBody").css({"-webkit-overflow-scrolling":"touch",
height:e});d&&b&&a("#iscrollBody").scrollTop(d-c);a.DM.events.trigger("iscrollBodyResized")},l="tablet"===a.layoutDevice.type?240:190,m={element:document.getElementById("dmSlideRightNavRight"),disable:"right",maxPosition:l,minPosition:-1*l};h()&&(a("#site_content").attr("data-snap-ignore","true"),a("#dmSlideRightNavRight").attr("data-snap-ignore","true"));l=a("#toggleMenuTrigger");b.slideNavigationObject?m.element.addEventListener("transitionend",function(){b.slideNavigationObject=d.call(b,m)}):b.slideNavigationObject=
d.call(b,m,l);e(!0);a(window).resize(e)};b.prototype.onLoadGlobal=function(a){};b.prototype.onAjaxLinkClick=function(b){b.is("#leftSidebar li *")&&(a("#leftSidebar").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),b.closest("li").addClass("dmNavItemSelected"));this.toggleMenu("close");a("#dmSlideRightNavRight").animate({scrollTop:0},"fast")};b.prototype.afterAjaxCommand=function(a){};b.prototype.onAjaxLinkBeforeClick=function(){return!this.scrolled};
b.prototype.onAjaxLinkTouchStart=function(a,b){this.startY=b.originalEvent.pageY;this.scrolled=!1};b.prototype.onAjaxLinkTouchMove=function(a,b){20<Math.abs(b.originalEvent.pageY-this.startY)&&(this.scrolled=!0)};b.prototype.toggleMenu=function(a){this.slideNavigationObject&&(a&&"close"==a?this.closeMenu():a&&"open"==a?this.openMenu():"closed"===this.slideNavigationObject.state().state?this.openMenu():this.closeMenu())};b.prototype.closeMenu=function(){this.slideNavigationObject.close();requestAnimationFrame(function(){requestAnimationFrame(function(){p(!1,
a("#toggleMenuTrigger"))})})};b.prototype.openMenu=function(){this.slideNavigationObject.open("left");requestAnimationFrame(function(){requestAnimationFrame(function(){p(!0,a("#toggleMenuTrigger"))})})};b.prototype.refresh=function(){this.initIscroll()};x.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};x.prototype.onReadyPreviewMode=function(){var b;a(document.getElementById("slideDownTrigger")).off("click.openPopupNav").on("click.openPopupNav",x.prototype.openPopupNav);(b=document.body)&&
a(b).toggleClass("menuClosed")};x.prototype.onLoadEditorMode=function(){};x.prototype.hidePopupNav=function(){setTimeout(function(){var b;if(b=document.body)a(b).removeClass("popupNavActive"),a(b).removeClass("menuClosed")},0)};x.prototype.onLoadPreviewMode=function(){};x.prototype.openPopupNav=function(){var b;if(b=document.body)a(b).toggleClass("popupNavActive"),a(b).toggleClass("menuClosed")};var t={iscrollBody:new e,innerBar:new w,slideDownNav:new v,slideRightNav:new b,upperFloatingNav:new m,
extensionMenuNav:new r,popupNav:new x};a.extend({commonComponents:t})})(jQuery);